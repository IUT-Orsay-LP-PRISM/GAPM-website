{% extends 'layouts/layout-admin.twig' %}

{% block title %} {{ title }} {% endblock %}

{% block content %}
	<div class="admin__page__title">
		<h1>{{ title }}</h1>
	</div>
	<div class="admin__page__content admin__inter__see">
		<div class="admin__inter">
			<div class="admin__inter__head">
				<div class="admin__inter__img-head">
					#
				</div>
				<div class="admin__inter__noms-head">
					Nom
				</div>
				<div class="admin__inter__spe-head">
					Specialités
				</div>
				<div class="admin__inter__adresse-head">
					Adresse
				</div>
			</div>
				<div class="admin__inter__item">
					<div class="admin__inter__img">
						<img src="../{{ int.imgUrl }}" alt="{{ int.nom }} {{ int.prenom }}">
					</div>
					<div class="admin__inter__noms">
						{{ int.nom }} {{ int.prenom }}
					</div>
					<div class="admin__inter__spe">
						{% for spe in int.specialites %}
							• {{ spe.libelle }}
							<br>
						{% endfor %}
					</div>
					<div class="admin__inter__adresse">
						{{ int.adressePro }}<br> {{ int.villePro.codePostal }} {{ int.villePro.nom }}
					</div>
				</div>
		</div>
		{% if adminLogged %}
			<p>
				{{ admins.nom }}
			</p>
		{% endif %}
		<h2>
			Ses rendez-vous
		</h2>
		<div class="admin__inter__rdv admin__inter">
			<div class="admin__inter__head">
				<div class="admin__inter__date-head">
					Date
				</div>
				<div class="admin__inter__heure-head">
					Heure
				</div>
				<div class="admin__inter__patient-head">
					Patient
				</div>
				<div class="admin__inter__spe-head">
					Spécialité concernée
				</div>
				<div class="admin__inter__etat-head">
					État
				</div>
			</div>
			{% for rdv in rdv %}
				<div class="admin__inter__item">
					<div class="admin__inter__rdv__date">
						{{ rdv.dateRdv|date('d/m/Y') }}
					</div>
					<div class="admin__inter__rdv__heure">
						{{ rdv.heureDebut }} - {{ rdv.heureFin }}
					</div>
					<div class="admin__inter__rdv__patient">
						{{ rdv.demandeur.nom }} {{ rdv.demandeur.prenom }}
					</div>
					<div class="admin__inter__rdv__spe">
						{{ rdv.specialite.libelle }}
					</div>
					<div class="admin__inter__rdv__etat">
						{% if rdv.status == "confirme" %}
							Confirmé
						{% elseif rdv.status == "annule" %}
							Annulé
						{% elseif rdv.status == "attente" %}
							En attente
						{% endif %}
					</div>
				</div>
			{% endfor %}
		</div>
		<h2>
			Ses dépenses
		</h2>
		<div class="admin__inter__rdv admin__inter">
			<div class="admin__inter__head">
				<div class="admin__inter__date-head">
					Date Paiement
				</div>
				<div class="admin__inter__heure-head">
					Nature
				</div>
				<div class="admin__inter__patient-head">
					Montant
				</div>
				<div class="admin__inter__spe-head">
					Fournisseur
				</div>
				<div class="admin__inter__etat-head">
					État
				</div>
			</div>
			{% for dp in depenses %}
				<div class="admin__inter__item">
					<div class="admin__inter__rdv__date">
						{{ dp.dateRdv|date('d/m/Y') }}
					</div>
					<div class="admin__inter__rdv__heure">
						{{ dp.nature }}
					</div>
					<div class="admin__inter__rdv__patient">
						{{ dp.montant }} €
					</div>
					<div class="admin__inter__rdv__spe">
						{{ dp.fournisseur }}
					</div>
					<div class="admin__inter__rdv__etat">
						{% if dp.status == "déclarer" %}
							Déclaré
						{% elseif dp.status == "À traiter" %}
							À traiter
						{% elseif dp.status == "traiter" %}
							Traité
						{% endif %}
					</div>
				</div>
			{% endfor %}
		</div>
	</div>
{% endblock %}