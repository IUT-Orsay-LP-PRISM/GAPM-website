<section class="myaccount__form" id="form">
    {% if user is defined and not user.isIntervenant() %}
        <form method="post" action="?action=upgrade-to-intervenant">
            <h2 class="myaccount__form-title">Devenir intervenant</h2>
            <p class="myaccount__form-subtitle">Choissisez vos domaînes de compétences :</p>
            <div class="myaccount__form__intervenant">
                <div class="myaccount__form__intervenant__item">
                    <div class="input-container overflow">
                        <i class="icon icon-fi-rr-doctor"></i>
                        <input id="specialite" class="input AC input_specialite" type="text"/>
                        <label class="label" for="specialite">Vos spécialités</label>
                        <div class="notVisible auto_completion"></div>
                        <input id="hiddenValueSpecialites" type="hidden" name="specialites" value="null">
                    </div>
                </div>
                <div class="myaccount__form__intervenant__item">
                    <div class="input-container">
                        <i class="icon icon-fi-rr-home-location-alt"></i>
                        <input id="adressePro" class="input" type="text" name="addressPro" required/>
                        <label class="label" for="adressePro">Adresse Pro</label>
                    </div>
                </div>
                <div class="myaccount__form__intervenant__item">
                    <div id="tag-container">
                        <p>Vos choix :</p>
                        <div class="container"></div>
                    </div>
                </div>
                <div class="myaccount__form__intervenant__item">
                    <div class="input-container overflow">
                        <i class="icon icon-fi-rr-map-marker"></i>
                        <input id="ville" class="input AC input_ville" type="text" required/>
                        <label class="label" for="ville">Ville</label>
                        <input id="hiddenValueCityIntervenant" name="city" type="number" hidden="hidden"/>
                        <div class="notVisible auto_completion"></div>
                        <span class="code_postal"></span>
                    </div>
                </div>
            </div>

            <button class="btn btn-primary" type="submit">
                <i class="icon-w icon-fi-rr-check"></i>
                Postuler en tant que praticien
            </button>
        </form>
    {% else %}
        {% if user.isIntervenant() %}
            <form method="post" action="?action=update-intervenant">
                <h2 class="myaccount__form-title">Mes informations professionnelle</h2>
                <p class="myaccount__form-subtitle">Choissisez vos domaînes de compétences :</p>
                <div class="myaccount__form__intervenant">
                    <div class="myaccount__form__intervenant__item">
                        <div class="input-container overflow">
                            <i class="icon icon-fi-rr-doctor"></i>
                            <input id="specialite" class="input AC input_specialite" type="text"/>
                            <label class="label" for="specialite">Vos spécialités</label>
                            <div class="notVisible auto_completion"></div>
                            <input id="hiddenValueSpecialites" type="hidden" name="specialites" value="null">
                        </div>
                    </div>
                    <div class="myaccount__form__intervenant__item">
                        <div class="input-container">
                            <i class="icon icon-fi-rr-text"></i>
                            <input id="user" class="input" type="text" name="adressePro" value="{{ user.adressePro }}"/>
                            <label class="label" for="name">Adresse Pro</label>
                        </div>
                    </div>
                    <div class="myaccount__form__intervenant__item">
                        <div id="tag-container">
                            <p>Vos choix :</p>
                            <div class="container">
                                {% for specialite in user.specialites %}
                                    <div class="tag" data-id="{{ specialite.idSpecialite }}">
                                        <span class="tag-text">{{ specialite.libelle|upper }}</span>
                                    </div>
                                {% endfor %}

                            </div>
                        </div>
                    </div>
                    <div class="myaccount__form__intervenant__item">
                        <div class="input-container overflow">
                            <i class="icon icon-fi-rr-map-marker"></i>
                            <input id="villeIntervenantUpdate" class="input AC input_ville" type="text"
                                   value="{{ user.villePro.nom|upper }}"/>
                            <label class="label" for="villeIntervenantUpdate">Ville Pro</label>
                            <input name="city" type="number" hidden="hidden" value="{{ user.villePro.idVille }}"/>
                            <div class="notVisible auto_completion"></div>
                            <span class="code_postal">{{ user.villePro.codePostal }}</span>
                        </div>
                    </div>
                </div>
                <h2 class="myaccount__form-title">Sécurité</h2>
                <div class="myaccount__form__perso__security">
                    <div class="input-container">
                        <i class="icon icon-fi-rr-key"></i>
                        <input id="oldMdpIntervenant" name="oldPassword" class="input" type="password" required/>
                        <label class="label" for="oldMdpIntervenant">Ancien mot de passe</label>
                        <i class="icon icon-fi-rr-eye-crossed js-iconEyePassword"></i>
                    </div>
                </div>
                {% if error is not empty and containerError is not empty and containerError == "mon-compte" %}
                    <p class="error">{{ error }}</p>
                {% endif %}
            </form>
        {% endif %}
    {% endif %}
</section>


